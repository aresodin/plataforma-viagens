{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/user/sbspdmnds/src/app/packages/actions.ts"],"sourcesContent":["'use server';\n\nimport { createClient } from '@supabase/supabase-js';\nimport { z } from 'zod';\n\n// --- CLIENTE SUPABASE (PÚBLICO) ---\nconst createSupabaseClient = () => {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error('Credenciais do Supabase não encontradas. Verifique as variáveis de ambiente.');\n  }\n  \n  return createClient(supabaseUrl, supabaseAnonKey);\n};\n\n// --- AÇÕES DE BUSCA DE DADOS ---\n\nexport async function getPublicPackages() {\n  try {\n    const supabase = createSupabaseClient();\n    const { data, error } = await supabase\n      .from('viagens')\n      .select('*')\n      .eq('ativo', true)\n      .order('destino', { ascending: true });\n\n    if (error) throw error;\n\n    return { packages: data };\n  } catch (error) {\n    console.error(\"Erro ao buscar pacotes públicos:\", error);\n    return { error: \"Não foi possível carregar os pacotes.\" };\n  }\n}\n\n\nexport async function getPublicPackageById(id: string) {\n  try {\n    const supabase = createSupabaseClient();\n\n    // Usando .limit(1) para contornar um possível bug no .single()\n    const { data, error } = await supabase\n      .from('viagens')\n      .select('*')\n      .eq('id', id)\n      .limit(1);\n\n    if (error) throw error;\n\n    if (!data || data.length === 0) {\n        return { pkg: null, error: `Pacote com ID ${id} não encontrado.` };\n    }\n\n    return { pkg: data[0] };\n\n  } catch (e) {\n    console.error(`Erro ao buscar pacote por ID ${id}:`, e);\n    return { pkg: null, error: \"Falha ao buscar dados do pacote.\" };\n  }\n}\n\n\n// --- AÇÕES DE FORMULÁRIO (MUTATIONS) ---\n\nconst ReservationSchema = z.object({\n  name: z.string().min(3, { message: 'O nome deve ter pelo menos 3 caracteres.' }),\n  email: z.string().email({ message: 'Por favor, insira um email válido.' }),\n});\n\nexport async function submitReservation(prevState: any, formData: FormData) {\n  try {\n    const validatedFields = ReservationSchema.safeParse({\n      name: formData.get('name'),\n      email: formData.get('email'),\n    });\n\n    if (!validatedFields.success) {\n      return {\n        message: 'Falha na validação. Por favor, verifique os campos.',\n        errors: validatedFields.error.flatten().fieldErrors,\n        success: false,\n      };\n    }\n\n    // Simulação de salvamento no banco de dados\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    \n    return {\n      message: `Reserva confirmada para ${validatedFields.data.name}! Entraremos em contato em breve.`,\n      errors: { name: [], email: [] },\n      success: true,\n    };\n  } catch (e) {\n    console.error(\"Erro ao submeter reserva:\", e);\n    return {\n      message: 'Não foi possível processar a reserva.',\n      errors: { name: [], email: [] },\n      success: false,\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;;;;;AAEA,qCAAqC;AACrC,MAAM,uBAAuB;IAC3B,MAAM;IACN,MAAM;IAEN;;IAIA,OAAO,IAAA,uMAAY,EAAC,aAAa;AACnC;AAIO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW;QACjB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,SAAS,MACZ,KAAK,CAAC,WAAW;YAAE,WAAW;QAAK;QAEtC,IAAI,OAAO,MAAM;QAEjB,OAAO;YAAE,UAAU;QAAK;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;YAAE,OAAO;QAAwC;IAC1D;AACF;AAGO,eAAe,qBAAqB,EAAU;IACnD,IAAI;QACF,MAAM,WAAW;QAEjB,+DAA+D;QAC/D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QAEjB,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG;YAC5B,OAAO;gBAAE,KAAK;gBAAM,OAAO,CAAC,cAAc,EAAE,GAAG,gBAAgB,CAAC;YAAC;QACrE;QAEA,OAAO;YAAE,KAAK,IAAI,CAAC,EAAE;QAAC;IAExB,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC,EAAE;QACrD,OAAO;YAAE,KAAK;YAAM,OAAO;QAAmC;IAChE;AACF;AAGA,0CAA0C;AAE1C,MAAM,oBAAoB,kLAAC,CAAC,MAAM,CAAC;IACjC,MAAM,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAA2C;IAC9E,OAAO,kLAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAAE,SAAS;IAAqC;AAC1E;AAEO,eAAe,kBAAkB,SAAc,EAAE,QAAkB;IACxE,IAAI;QACF,MAAM,kBAAkB,kBAAkB,SAAS,CAAC;YAClD,MAAM,SAAS,GAAG,CAAC;YACnB,OAAO,SAAS,GAAG,CAAC;QACtB;QAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;YAC5B,OAAO;gBACL,SAAS;gBACT,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;gBACnD,SAAS;YACX;QACF;QAEA,4CAA4C;QAC5C,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;QAEjD,OAAO;YACL,SAAS,CAAC,wBAAwB,EAAE,gBAAgB,IAAI,CAAC,IAAI,CAAC,iCAAiC,CAAC;YAChG,QAAQ;gBAAE,MAAM,EAAE;gBAAE,OAAO,EAAE;YAAC;YAC9B,SAAS;QACX;IACF,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO;YACL,SAAS;YACT,QAAQ;gBAAE,MAAM,EAAE;gBAAE,OAAO,EAAE;YAAC;YAC9B,SAAS;QACX;IACF;AACF;;;IAnFsB;IAmBA;IAiCA;;AApDA,+OAAA;AAmBA,+OAAA;AAiCA,+OAAA","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///home/user/sbspdmnds/.next-internal/server/app/packages/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getPublicPackages as '00d00bf89781aa17b338db7400af9c9083f2f930b4'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///home/user/sbspdmnds/src/app/packages/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/packages/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/packages/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///home/user/sbspdmnds/src/app/packages/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/packages/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/packages/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}