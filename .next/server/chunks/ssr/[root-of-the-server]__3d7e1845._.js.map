{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/user/sbspdmnds/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uMAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///home/user/sbspdmnds/src/app/home/page.tsx"],"sourcesContent":["'use client';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '../../lib/supabaseClient';\nimport { useEffect, useState, ReactNode } from 'react';\n\n// --- Reusable Dashboard Card Component ---\ninterface DashboardCardProps {\n  title: string;\n  description: string;\n  icon: ReactNode;\n  colorClass: string; // Tailwind CSS class for color theming (e.g., 'from-green-400 to-teal-400')\n  href?: string;\n}\n\nconst DashboardCard = ({ title, description, icon, colorClass, href }: DashboardCardProps) => {\n  const router = useRouter();\n  const handleClick = () => {\n    if (href) {\n      router.push(href);\n    }\n  };\n\n  // Adicionado um estilo condicional para o cursor\n  const cardClasses = `\n    bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all \n    duration-300 transform hover:-translate-y-2 group\n    ${href ? 'cursor-pointer' : 'cursor-default'}\n  `;\n\n  return (\n    <div className={cardClasses} onClick={handleClick}>\n      <div className={`w-16 h-16 rounded-full bg-gradient-to-br ${colorClass} flex items-center justify-center mb-5 shadow-lg group-hover:scale-110 transition-transform`}>\n        {icon}\n      </div>\n      <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">{title}</h3>\n      <p className=\"text-gray-600\">{description}</p>\n    </div>\n  );\n};\n\n\n// --- Main Home Page Component ---\ninterface UserProfile {\n  id: string;\n  nome_completo?: string;\n  email?: string;\n  role?: string;\n}\n\nexport default function HomePage() {\n  const router = useRouter();\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      setLoading(true);\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) { router.push('/login'); return; }\n\n      const [profileRes, roleRes] = await Promise.all([\n        supabase.from('usuarios').select('nome_completo').eq('id', user.id).maybeSingle(),\n        supabase.from('user_roles').select('role').eq('user_id', user.id).maybeSingle()\n      ]);\n\n      setUserProfile({\n        id: user.id,\n        email: user.email,\n        nome_completo: profileRes.data?.nome_completo,\n        role: roleRes.data?.role || 'USER',\n      });\n      setLoading(false);\n    };\n    fetchUserData();\n  }, [router]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push('/login');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-slate-50\">\n        <div className=\"text-xl font-semibold text-gray-700 animate-pulse\">Carregando sua jornada...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 text-gray-800\">\n      <header className=\"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50\">\n        <nav className=\"container mx-auto px-6 py-4 flex justify-between items-center\">\n          <div \n            className=\"flex items-center gap-3 cursor-pointer\" \n            onClick={() => router.push('/home')}\n          >\n            <img src=\"/imgs/travel_1000dp_FFF_FILL0_wght400_GRAD0_opsz48.svg\" alt=\"Jacarelli Viagens Logo\" className=\"h-8 w-8 bg-green-500 rounded-full p-1\" />\n            <span className=\"text-2xl font-bold text-green-500\">Jacarelli Viagens</span>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <span className=\"font-medium hidden sm:block\">\n              Olá, {userProfile?.nome_completo?.split(' ')[0] || 'Viajante'}!\n            </span>\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center gap-2 py-2 px-4 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition-all duration-300 transform hover:scale-105 cursor-pointer\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\"><path fillRule=\"evenodd\" d=\"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z\" clipRule=\"evenodd\" /></svg>\n              Sair\n            </button>\n          </div>\n        </nav>\n      </header>\n\n      <main className=\"container mx-auto px-6 py-12\">\n        <div className=\"text-center mb-16\">\n          <h1 className=\"text-5xl md:text-6xl font-extrabold text-gray-900 mb-4\">Sua Aventura Começa Aqui!</h1>\n          <p className=\"text-lg text-gray-600 max-w-3xl mx-auto\">\n            Bem-vindo ao seu painel. Explore os destinos mais incríveis, gerencie suas viagens e acesse seu perfil.\n          </p>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          <DashboardCard\n            title=\"Pacotes Imperdíveis\"\n            description=\"Descubra nossas ofertas e planeje a viagem dos seus sonhos com os melhores preços.\"\n            colorClass=\"from-green-400 to-teal-500\"\n            href=\"/packages\"\n            icon={<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" /></svg>}\n          />\n          <DashboardCard\n            title=\"Minhas Viagens\"\n            description=\"Acesse seu histórico de compras, reservas e detalhes dos seus pacotes.\"\n            colorClass=\"from-blue-400 to-indigo-500\"\n            href=\"/my-trips\" // Conectado à nova página\n            icon={<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\" /></svg>}\n          />\n          <DashboardCard\n            title=\"Meu Perfil\"\n            description=\"Atualize seus dados cadastrais, preferências e informações de contato.\"\n            colorClass=\"from-purple-400 to-pink-500\"\n            href=\"/profile\" // Conectado à nova página\n            icon={<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" /></svg>}\n          />\n        </div>\n\n        {userProfile?.role === 'ADMIN' && (\n          <div className=\"mt-16 bg-gradient-to-r from-gray-800 to-gray-900 text-white p-10 rounded-xl shadow-2xl text-left\">\n            <h2 className=\"text-4xl font-bold mb-4\">Área do Administrador</h2>\n            <p className=\"mb-6 opacity-80 max-w-2xl\">Acesso exclusivo para gerenciar usuários, cadastrar pacotes de viagem e visualizar relatórios da plataforma.</p>\n            <button\n              onClick={() => router.push('/admin')}\n              className=\"py-3 px-8 bg-green-500 text-white font-bold rounded-lg shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105 cursor-pointer\"\n            >\n              Acessar Painel de Controle\n            </button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}